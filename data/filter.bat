@echo off

REM UNKNOWN: {"type":"For","name":{"text":"f","type":"Name"},"wordlist":[{"text":"$(pwd)/books/*.txt","expansion":[{"loc":{"start":0,"end":5},"command":"pwd","type":"CommandExpansion","commandAST":{"type":"Script","commands":[{"type":"Command","name":{"text":"pwd","type":"Word"}}]}}],"type":"Word"}],"do":{"type":"CompoundList","commands":[{"type":"Command","prefix":[{"text":"WORDS_COUNT=$(wc -w $f | cut -d' ' -f1)","expansion":[{"loc":{"start":12,"end":38},"command":"wc -w $f | cut -d' ' -f1","type":"CommandExpansion","commandAST":{"type":"Script","commands":[{"type":"Pipeline","commands":[{"type":"Command","name":{"text":"wc","type":"Word"},"suffix":[{"text":"-w","type":"Word"},{"text":"$f","expansion":[{"loc":{"start":0,"end":1},"parameter":"f","type":"ParameterExpansion"}],"type":"Word"}]},{"type":"Command","name":{"text":"cut","type":"Word"},"suffix":[{"text":"-d ","type":"Word"},{"text":"-f1","type":"Word"}]}]}]}}],"type":"AssignmentWord"}]},{"type":"If","clause":{"type":"CompoundList","commands":[{"type":"Command","name":{"text":"[","type":"Word"},"suffix":[{"text":"$WORDS_COUNT","expansion":[{"loc":{"start":0,"end":11},"parameter":"WORDS_COUNT","type":"ParameterExpansion"}],"type":"Word"},{"text":"-lt","type":"Word"},{"text":"10000","type":"Word"},{"text":"]","type":"Word"}]}]},"then":{"type":"CompoundList","commands":[{"type":"Pipeline","commands":[{"type":"Command","name":{"text":"rm","type":"Word"},"suffix":[{"text":"$f","expansion":[{"loc":{"start":0,"end":1},"parameter":"f","type":"ParameterExpansion"}],"type":"Word"}]},{"type":"Command","name":{"text":"echo","type":"Word"},"suffix":[{"text":"\"Removing $f, containing $WORDS_COUNT words\"","expansion":[{"loc":{"start":10,"end":11},"parameter":"f","type":"ParameterExpansion"},{"loc":{"start":25,"end":36},"parameter":"WORDS_COUNT","type":"ParameterExpansion"}],"type":"Word"}]}]}]}}]}}

